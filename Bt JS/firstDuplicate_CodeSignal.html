<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        
        // <!----------$-START cách tự làm-$---------->
        var input_array = [2,1,3,7,7,5,3,2];
        var num_4_check = [input_array[0]];//null//[];
        _push_num(input_array,num_4_check);
        console.log(_push_num(input_array,num_4_check));

        function _push_num (data_arr,check_arr)
            {   
                var data_arr;
                var check_arr//=null;
                // let a=[];
                // check_arr = check_arr.push(data_arr[0]);
                for (i=1;i<= data_arr.length-1;i++)
                    {
                        //check_arr = 
                        check_arr.push(data_arr[i]);
                        check_num(check_arr);

                        if (check_num.result==true)
                            {
                                // add check
                                return check_arr[check_arr.length-1];
                            }
                        else if (check_num.result==false)
                            {
                                // push them
                                //check_arr = 
                                check_arr.push(data_arr[i])
                            }
                    }
                return check_arr[check_arr.length-1];
            }

        function check_num (num_in)
            {
                if (num_in.length==2)
                    {
                        if (num_in[0]==num_in[1])
                                    {
                                        // return num_in[j];
                                        // có thể là return num_in[j] hoặc true false
                                        var result=true;
                                    }
                                else
                                    {
                                        result=false;
                                    }
                        return result;
                    }
                else if (num_in.length>2)
                    {
                        for (let i=0; i<= num_in.length-2;i++)
                            {
                                for (let j=i+1; j<= num_in.length-1;j++)
                                    {
                                        if (num_in[i]==num_in[j])
                                            {
                                                var result=true;
                                            }
                                        else
                                            {
                                                result=false;
                                            }
                                    }
                            }
                        return result;
                    }
                return result;
            }
        // <!----------x-END cách tự làm-x---------->


        
        // <!----------$-START Cách ngắn nhất-$---------->
        for(let i = 0; i < a.length; i++)
            {
                if(a.indexOf(a[i]) < i)
                    {
                        return a[i]
                    }
            }
        return -1;
        // <!----------x-END Cách ngắn nhất-x---------->
        
        
        
        // <!----------$-START Cách qua môn-$---------->
        function firstDuplicate(a)
            {
                let myMap = new Map();

                for (let i = 0; i < a.length; i++)
                    {
                        if (myMap.has(a[i]))
                            {
                                return a[i];
                            }
                        else
                            {
                                myMap.set(a[i], 1)
                            }
                    }

                return -1;
            }
        // <!----------x-END Cách qua môn-x---------->
        
        
        
    </script>
</body>
</html>